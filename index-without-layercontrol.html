<!DOCTYPE html>
<!--
Copyright (C) 2014 Härnösands kommun

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->

<html lang="sv">
	<head>
		<meta http-equiv="Content-type" content="text/html; charset=UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>Open eMap Client</title>
		<meta name="description" content="">
		<meta name="author" content="Anders Erlandsson, Sundsvalls kommun" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<script type="text/javascript" src="OpenEMap.js"></script>
		<script type="text/javascript">
			var options = {
				gui : {
					map : false,
					zoomTools : {},
					baseLayers : {},
					scalebar : {},
	    			showCoordinate: {renderTo: 'showcoordinate'}
				},
				OpenEMap : {
					// Base path to be used for mapfish print servlet requests
					basePathMapFish : '/mapfishprint-2.1.1/pdf',
					// Base path to be used for all AJAX requests against search-lm REST API
					basePathLM : '/search/lm/',
					// name of user to be used when calling search-lm REST API
					lmUser : 'sundsvall',
					// Base path to be used for all AJAX requests against Elasticsearch REST API
					basePathES : '/search/es/',
					// URL/paths related to WMS usage / advanced layer list
					wmsURLs : {
						// URL to be used to fetch WMS capabilities etc. for add layer
						basePath : '/geoserver/wms',
						// URL to be used when WMS layer has been added to config
						url : 'https://extmaptest.sundsvall.se/geoserver/wms',
						// URL to getcapabilities document. Must include request parameter (eg. https://extmap.sundsvall.se/geoserver/wms?request=GetCapabilities&version=1.1.1)
						getCapabilities : 'https://extmaptest.sundsvall.se/getcapabilities/wms.xml'
					},
					//Base path to proxy to be used for WFS-post
					basePathProxy : '/cgi-bin/proxy.py?url=',
					// WS paths to be used for AJAX requests
					wsUrls : {
						//basepath to Open eMap Admin
						basePath : '/openemapadmin',
						// relative path to configs, set in admin of modules in OpenHierarchy
						configs : '/configs',
						// relative path to adminconfigs, set in admin of modules in OpenHierarchy
						adminconfigs : '/adminconfigs',
						// path to permalinks
						permalinks : '/openemappermalink/permalinks',
						metadata : 'geometadata/getmetadatabyid',
						metadata_abstract : 'geometadata/getabstractbyid'
					},
				}
			};

			try {
				initOpenEMap(null, options);
			} catch(msg) {
				alert(msg);
			}
		</script>
	</head>
	<body>
		<div id="showcoordinate" style="position: absolute; bottom: 0px; left: 10px;" ></div>
		<div id="searchcoordinate" style="position: absolute; left: 150px; bottom: 0px;" ></div>
	</body>
</html>
